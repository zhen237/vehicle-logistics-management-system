import{_ as X,r as c,ai as Y,o as Z,a as r,b as v,c as t,w as a,C as ee,e as d,d as te,f as ae,aj as ne,U as le,V as oe,k as l,j as se,B as ie,g as w,ak as ue,P as de,a2 as pe,m as re,p as E,q as S,s as _e,t as g,W as I,z as ce,al as ye,K as i}from"./index-Dk-eNI3p.js";const fe=["onClick"],me=["onClick"],ve=["onClick"],ge=["onClick"],ke={__name:"List",setup(xe){const k=c(""),x=c(""),C=c(""),b=c(!1),T=[{title:"车牌号",dataIndex:"plateNumber",key:"plateNumber",width:120},{title:"车辆类型",dataIndex:"type",key:"type",width:100},{title:"品牌型号",dataIndex:"model",key:"model",width:150},{title:"载重量",dataIndex:"loadCapacity",key:"loadCapacity",width:100},{title:"司机",dataIndex:"driver",key:"driver",width:100},{title:"里程数",dataIndex:"mileage",key:"mileage",width:120},{title:"状态",dataIndex:"status",key:"status",width:100},{title:"保险到期",dataIndex:"insuranceExpiry",key:"insuranceExpiry",width:120},{title:"购买日期",dataIndex:"purchaseDate",key:"purchaseDate",width:120},{title:"操作",key:"action",width:180,fixed:"right"}],_=c([{id:1,plateNumber:"京A12345",type:"货车",model:"东风天龙 DFL4251",loadCapacity:25,driver:"张师傅",mileage:156e3,status:"busy",insuranceExpiry:"2024-06-15",purchaseDate:"2020-03-10"},{id:2,plateNumber:"京B67890",type:"面包车",model:"福田风景 G7",loadCapacity:2,driver:"李师傅",mileage:89e3,status:"available",insuranceExpiry:"2024-12-20",purchaseDate:"2021-07-22"},{id:3,plateNumber:"京C11111",type:"拖车",model:"解放J6P",loadCapacity:40,driver:"王师傅",mileage:234e3,status:"maintenance",insuranceExpiry:"2024-03-08",purchaseDate:"2019-11-15"}]),y=Y({current:1,pageSize:10,total:_.value.length,showSizeChanger:!0,showQuickJumper:!0,showTotal:(n,e)=>`第 ${e[0]}-${e[1]} 条，共 ${n} 条`}),B=n=>({available:"green",busy:"blue",maintenance:"orange",retired:"red"})[n]||"default",M=n=>({available:"可用",busy:"使用中",maintenance:"维修中",retired:"已退役"})[n]||n,V=n=>{const e=new Date,p=new Date(n)-e;return Math.ceil(p/(1e3*60*60*24))<=30},z=()=>{console.log("搜索:",k.value),i.info("搜索功能开发中...")},F=()=>{console.log("状态筛选:",x.value),i.info("筛选功能开发中...")},L=()=>{console.log("类型筛选:",C.value),i.info("筛选功能开发中...")},O=()=>{b.value=!0,setTimeout(()=>{b.value=!1,i.success("数据已刷新")},1e3)},U=()=>{i.info("添加车辆功能开发中...")},P=()=>{i.info("导出功能开发中...")},j=n=>{y.current=n.current,y.pageSize=n.pageSize},A=n=>{i.info(`查看车辆: ${n.plateNumber}`)},J=n=>{i.info(`编辑车辆: ${n.plateNumber}`)},R=n=>{i.success(`车辆 ${n.plateNumber} 已安排维修`),n.status="maintenance"},q=n=>{i.info(`定位车辆: ${n.plateNumber}`)},G=n=>{const e=_.value.findIndex(f=>f.id===n.id);e>-1&&(_.value.splice(e,1),i.success(`车辆 ${n.plateNumber} 已删除`),y.total=_.value.length)};return Z(()=>{}),(n,e)=>{const f=ne,p=ae,u=oe,N=le,h=ie,D=se,K=te,$=ee,Q=_e,W=ye,H=re;return d(),r("div",null,[e[16]||(e[16]=v("h1",null,"🚛 车辆档案",-1)),t($,{style:{"margin-bottom":"16px"}},{default:a(()=>[t(K,{gutter:16,align:"middle"},{default:a(()=>[t(p,{span:6},{default:a(()=>[t(f,{value:k.value,"onUpdate:value":e[0]||(e[0]=s=>k.value=s),placeholder:"搜索车牌号、司机姓名",onSearch:z},null,8,["value"])]),_:1}),t(p,{span:4},{default:a(()=>[t(N,{value:x.value,"onUpdate:value":e[1]||(e[1]=s=>x.value=s),placeholder:"车辆状态",style:{width:"100%"},onChange:F},{default:a(()=>[t(u,{value:""},{default:a(()=>e[3]||(e[3]=[l("全部状态")])),_:1,__:[3]}),t(u,{value:"available"},{default:a(()=>e[4]||(e[4]=[l("可用")])),_:1,__:[4]}),t(u,{value:"busy"},{default:a(()=>e[5]||(e[5]=[l("使用中")])),_:1,__:[5]}),t(u,{value:"maintenance"},{default:a(()=>e[6]||(e[6]=[l("维修中")])),_:1,__:[6]}),t(u,{value:"retired"},{default:a(()=>e[7]||(e[7]=[l("已退役")])),_:1,__:[7]})]),_:1},8,["value"])]),_:1}),t(p,{span:4},{default:a(()=>[t(N,{value:C.value,"onUpdate:value":e[2]||(e[2]=s=>C.value=s),placeholder:"车辆类型",style:{width:"100%"},onChange:L},{default:a(()=>[t(u,{value:""},{default:a(()=>e[8]||(e[8]=[l("全部类型")])),_:1,__:[8]}),t(u,{value:"truck"},{default:a(()=>e[9]||(e[9]=[l("货车")])),_:1,__:[9]}),t(u,{value:"van"},{default:a(()=>e[10]||(e[10]=[l("面包车")])),_:1,__:[10]}),t(u,{value:"trailer"},{default:a(()=>e[11]||(e[11]=[l("拖车")])),_:1,__:[11]})]),_:1},8,["value"])]),_:1}),t(p,{span:10,style:{"text-align":"right"}},{default:a(()=>[t(D,null,{default:a(()=>[t(h,{onClick:O},{default:a(()=>[t(w(ue)),e[12]||(e[12]=l(" 刷新 "))]),_:1,__:[12]}),t(h,{type:"primary",onClick:U},{default:a(()=>[t(w(de)),e[13]||(e[13]=l(" 添加车辆 "))]),_:1,__:[13]}),t(h,{onClick:P},{default:a(()=>[t(w(pe)),e[14]||(e[14]=l(" 导出 "))]),_:1,__:[14]})]),_:1})]),_:1})]),_:1})]),_:1}),t($,null,{default:a(()=>[t(H,{columns:T,"data-source":_.value,loading:b.value,pagination:y,onChange:j,"row-key":"id"},{bodyCell:a(({column:s,record:o})=>[s.key==="status"?(d(),E(Q,{key:0,color:B(o.status)},{default:a(()=>[l(g(M(o.status)),1)]),_:2},1032,["color"])):s.key==="loadCapacity"?(d(),r(I,{key:1},[l(g(o.loadCapacity)+"吨 ",1)],64)):s.key==="mileage"?(d(),r(I,{key:2},[l(g(o.mileage.toLocaleString())+"km ",1)],64)):s.key==="insuranceExpiry"?(d(),r("span",{key:3,style:ce({color:V(o.insuranceExpiry)?"#ff4d4f":"#000"})},g(o.insuranceExpiry),5)):s.key==="action"?(d(),E(D,{key:4},{default:a(()=>[v("a",{onClick:m=>A(o)},"查看",8,fe),v("a",{onClick:m=>J(o)},"编辑",8,me),o.status==="available"?(d(),r("a",{key:0,onClick:m=>R(o)},"维修",8,ve)):S("",!0),o.status==="busy"?(d(),r("a",{key:1,onClick:m=>q(o)},"定位",8,ge)):S("",!0),t(W,{title:"确定要删除这辆车吗？",onConfirm:m=>G(o)},{default:a(()=>e[15]||(e[15]=[v("a",{style:{color:"#ff4d4f"}},"删除",-1)])),_:2,__:[15]},1032,["onConfirm"])]),_:2},1024)):S("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1})])}}},be=X(ke,[["__scopeId","data-v-e1da86d6"]]);export{be as default};
