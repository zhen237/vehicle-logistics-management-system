import{c as e,I as st,_ as ot,r as _,o as it,a as S,b as n,k as a,g as v,Z as rt,w as l,C as ut,d as _t,e as V,f as dt,$ as ct,U as mt,V as pt,a0 as ft,j as vt,B as gt,a1 as yt,a2 as bt,a3 as xt,a4 as Ct,a5 as kt,a6 as Ot,Q as zt,R as wt,m as At,q as It,W as Dt,v as St,t as O,L as Vt,x as $t,y as Mt,s as Bt,A as Pt,z as jt,F as Nt,H as Ut,J as Et,G as Rt,K as g}from"./index-BK7oz1s9.js";import{E as Tt}from"./ExclamationOutlined-yJjR-KHh.js";var Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"};function $(d){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?Object(arguments[o]):{},c=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(i).filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable}))),c.forEach(function(m){Ht(d,m,i[m])})}return d}function Ht(d,o,i){return o in d?Object.defineProperty(d,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[o]=i,d}var I=function(o,i){var c=$({},o,i.attrs);return e(st,$({},c,{icon:Ft}),null)};I.displayName="AlertOutlined";I.inheritAttrs=!1;const Lt={class:"data-analysis"},qt={class:"page-header"},Gt={class:"ml-2"},Jt=["onClick"],Qt=["onClick"],Wt={class:"prediction-summary"},Zt={__name:"Analysis",setup(d){const o=_("time"),i=_([]),c=_("none"),m=_("orders"),M=_(null),B=_(null),P=_(null),j=_(null),N=[{title:"指标1",dataIndex:"metric1",key:"metric1"},{title:"指标2",dataIndex:"metric2",key:"metric2"},{title:"相关系数",dataIndex:"correlation",key:"correlation"},{title:"显著性",dataIndex:"significance",key:"significance"}],U=_([{metric1:"订单量",metric2:"收入",correlation:.892,significance:"高"},{metric1:"车辆数",metric2:"订单量",correlation:.756,significance:"高"},{metric1:"司机数",metric2:"完成率",correlation:.634,significance:"中"},{metric1:"天气",metric2:"延误率",correlation:-.423,significance:"中"},{metric1:"油价",metric2:"成本",correlation:.789,significance:"高"}]),y=_([{id:1,title:"订单量异常下降",description:"6月25日订单量较前一日下降35%，超出正常波动范围",level:"high",date:"2024-06-25"},{id:2,title:"车辆利用率偏低",description:"华南地区车辆利用率连续3天低于60%",level:"medium",date:"2024-06-28"},{id:3,title:"客户投诉率上升",description:"本周客户投诉率较上周上升15%",level:"medium",date:"2024-06-30"},{id:4,title:"燃油成本异常",description:"单位运输燃油成本较历史均值偏高8%",level:"low",date:"2024-06-29"}]),E=()=>{g.loading("正在进行数据分析...",2),setTimeout(()=>{g.success("分析完成！"),H()},2e3)},R=()=>{g.success("数据导出成功！")},T=b=>{g.info(`正在处理异常：${b.title}`)},F=b=>{const t=y.value.findIndex(r=>r.id===b.id);t>-1&&(y.value.splice(t,1),g.success("已忽略该异常"))},H=()=>{console.log("更新分析图表...")},L=()=>{console.log("初始化分析图表...")};return it(()=>{L()}),(b,t)=>{const r=pt,D=mt,x=ct,u=dt,q=ft,C=gt,G=vt,z=_t,p=ut,w=Ot,J=kt,Q=xt,A=wt,W=zt,Z=St,X=At,Y=Nt,K=Pt,h=Bt,tt=Mt,et=$t,lt=Vt,k=Et,nt=Ut,at=Rt;return V(),S("div",Lt,[n("div",qt,[n("h1",null,[e(v(rt)),t[4]||(t[4]=a(" 数据分析 "))]),t[5]||(t[5]=n("p",null,"深度分析业务数据，发现趋势和规律，为决策提供支持",-1))]),e(p,{class:"control-panel",title:"分析控制面板"},{default:l(()=>[e(z,{gutter:[16,16]},{default:l(()=>[e(u,{xs:24,sm:12,md:6},{default:l(()=>[e(x,{label:"分析维度"},{default:l(()=>[e(D,{value:o.value,"onUpdate:value":t[0]||(t[0]=s=>o.value=s),style:{width:"100%"}},{default:l(()=>[e(r,{value:"time"},{default:l(()=>t[6]||(t[6]=[a("时间维度")])),_:1,__:[6]}),e(r,{value:"region"},{default:l(()=>t[7]||(t[7]=[a("地区维度")])),_:1,__:[7]}),e(r,{value:"vehicle"},{default:l(()=>t[8]||(t[8]=[a("车辆维度")])),_:1,__:[8]}),e(r,{value:"driver"},{default:l(()=>t[9]||(t[9]=[a("司机维度")])),_:1,__:[9]}),e(r,{value:"customer"},{default:l(()=>t[10]||(t[10]=[a("客户维度")])),_:1,__:[10]})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:6},{default:l(()=>[e(x,{label:"时间范围"},{default:l(()=>[e(q,{value:i.value,"onUpdate:value":t[1]||(t[1]=s=>i.value=s),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:6},{default:l(()=>[e(x,{label:"对比类型"},{default:l(()=>[e(D,{value:c.value,"onUpdate:value":t[2]||(t[2]=s=>c.value=s),style:{width:"100%"}},{default:l(()=>[e(r,{value:"none"},{default:l(()=>t[11]||(t[11]=[a("无对比")])),_:1,__:[11]}),e(r,{value:"period"},{default:l(()=>t[12]||(t[12]=[a("同期对比")])),_:1,__:[12]}),e(r,{value:"target"},{default:l(()=>t[13]||(t[13]=[a("目标对比")])),_:1,__:[13]})]),_:1},8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:12,md:6},{default:l(()=>[e(x,{label:"操作"},{default:l(()=>[e(G,null,{default:l(()=>[e(C,{type:"primary",onClick:E},{default:l(()=>[e(v(yt)),t[14]||(t[14]=a(" 开始分析 "))]),_:1,__:[14]}),e(C,{onClick:R},{default:l(()=>[e(v(bt)),t[15]||(t[15]=a(" 导出数据 "))]),_:1,__:[15]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{gutter:[16,16],class:"analysis-results"},{default:l(()=>[e(u,{xs:24,lg:12},{default:l(()=>[e(p,{title:"趋势分析",class:"analysis-card"},{extra:l(()=>[e(Q,null,{overlay:l(()=>[e(J,null,{default:l(()=>[e(w,{key:"1"},{default:l(()=>t[17]||(t[17]=[a("切换图表类型")])),_:1,__:[17]}),e(w,{key:"2"},{default:l(()=>t[18]||(t[18]=[a("设置预警线")])),_:1,__:[18]}),e(w,{key:"3"},{default:l(()=>t[19]||(t[19]=[a("添加注释")])),_:1,__:[19]})]),_:1})]),default:l(()=>[e(C,{size:"small"},{default:l(()=>[t[16]||(t[16]=a(" 更多选项 ")),e(v(Ct))]),_:1,__:[16]})]),_:1})]),default:l(()=>[n("div",{ref_key:"trendChart",ref:M,class:"chart-container"},null,512),t[20]||(t[20]=n("div",{class:"analysis-conclusion"},[n("h4",null,"分析结论："),n("ul",null,[n("li",null,"订单量呈现稳定增长趋势，月增长率约12.5%"),n("li",null,"周末订单量明显高于工作日，建议增加周末运力"),n("li",null,"6月份订单量达到峰值，可能与季节性因素相关")])],-1))]),_:1,__:[20]})]),_:1}),e(u,{xs:24,lg:12},{default:l(()=>[e(p,{title:"对比分析",class:"analysis-card"},{extra:l(()=>[e(W,{value:m.value,"onUpdate:value":t[3]||(t[3]=s=>m.value=s),size:"small"},{default:l(()=>[e(A,{value:"orders"},{default:l(()=>t[21]||(t[21]=[a("订单量")])),_:1,__:[21]}),e(A,{value:"revenue"},{default:l(()=>t[22]||(t[22]=[a("收入")])),_:1,__:[22]}),e(A,{value:"efficiency"},{default:l(()=>t[23]||(t[23]=[a("效率")])),_:1,__:[23]})]),_:1},8,["value"])]),default:l(()=>[n("div",{ref_key:"compareChart",ref:B,class:"chart-container"},null,512),t[24]||(t[24]=n("div",{class:"analysis-conclusion"},[n("h4",null,"对比结论："),n("ul",null,[n("li",null,"本月订单量较上月增长15.3%，超出预期目标"),n("li",null,"华东地区表现最佳，订单量占总量的35%"),n("li",null,"重点客户贡献度提升，大客户订单占比达到60%")])],-1))]),_:1,__:[24]})]),_:1}),e(u,{xs:24,lg:12},{default:l(()=>[e(p,{title:"相关性分析",class:"analysis-card"},{default:l(()=>[n("div",{ref_key:"correlationChart",ref:P,class:"chart-container"},null,512),e(X,{columns:N,"data-source":U.value,pagination:!1,size:"small",class:"correlation-table"},{bodyCell:l(({column:s,record:f})=>[s.key==="correlation"?(V(),S(Dt,{key:0},[e(Z,{percent:Math.abs(f.correlation)*100,status:f.correlation>.7?"success":f.correlation>.3?"normal":"exception",size:"small"},null,8,["percent","status"]),n("span",Gt,O(f.correlation.toFixed(3)),1)],64)):It("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1}),e(u,{xs:24,lg:12},{default:l(()=>[e(p,{title:"异常检测",class:"analysis-card"},{extra:l(()=>[e(Y,{count:y.value.length,offset:[10,0]},{default:l(()=>[e(C,{size:"small",type:"primary",ghost:""},{default:l(()=>[e(v(I)),t[25]||(t[25]=a(" 异常告警 "))]),_:1,__:[25]})]),_:1},8,["count"])]),default:l(()=>[e(lt,{"data-source":y.value,size:"small",class:"anomaly-list"},{renderItem:l(({item:s})=>[e(et,null,{actions:l(()=>[n("a",{onClick:f=>T(s)},"处理",8,Jt),n("a",{onClick:f=>F(s)},"忽略",8,Qt)]),default:l(()=>[e(tt,null,{avatar:l(()=>[e(K,{style:jt({backgroundColor:s.level==="high"?"#ff4d4f":s.level==="medium"?"#faad14":"#52c41a"})},{default:l(()=>[e(v(Tt))]),_:2},1032,["style"])]),title:l(()=>[n("span",null,O(s.title),1),e(h,{color:s.level==="high"?"red":s.level==="medium"?"orange":"green",class:"ml-2"},{default:l(()=>[a(O(s.level==="high"?"高":s.level==="medium"?"中":"低"),1)]),_:2},1032,["color"])]),description:l(()=>[a(O(s.description),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1}),e(p,{title:"预测分析",class:"prediction-card"},{default:l(()=>[e(z,{gutter:[16,16]},{default:l(()=>[e(u,{xs:24,lg:16},{default:l(()=>[n("div",{ref_key:"predictionChart",ref:j,class:"chart-container large"},null,512)]),_:1}),e(u,{xs:24,lg:8},{default:l(()=>[n("div",Wt,[t[30]||(t[30]=n("h4",null,"预测摘要",-1)),e(nt,{column:1,size:"small"},{default:l(()=>[e(k,{label:"预测模型"},{default:l(()=>t[26]||(t[26]=[a("ARIMA + 机器学习")])),_:1,__:[26]}),e(k,{label:"预测精度"},{default:l(()=>t[27]||(t[27]=[a("92.5%")])),_:1,__:[27]}),e(k,{label:"置信区间"},{default:l(()=>t[28]||(t[28]=[a("95%")])),_:1,__:[28]}),e(k,{label:"预测周期"},{default:l(()=>t[29]||(t[29]=[a("未来30天")])),_:1,__:[29]})]),_:1}),e(at),t[31]||(t[31]=n("h4",null,"关键预测",-1)),t[32]||(t[32]=n("div",{class:"prediction-metrics"},[n("div",{class:"metric-item"},[n("span",{class:"label"},"下月订单量预测："),n("span",{class:"value"},"2,850 单"),n("span",{class:"trend up"},"↗ +18%")]),n("div",{class:"metric-item"},[n("span",{class:"label"},"收入预测："),n("span",{class:"value"},"¥485万"),n("span",{class:"trend up"},"↗ +12%")]),n("div",{class:"metric-item"},[n("span",{class:"label"},"车辆需求："),n("span",{class:"value"},"165 辆"),n("span",{class:"trend up"},"↗ +6%")])],-1))])]),_:1})]),_:1})]),_:1})])}}},Kt=ot(Zt,[["__scopeId","data-v-1040d523"]]);export{Kt as default};
