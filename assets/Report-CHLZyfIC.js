import{c as t,I,_ as re,r as i,a7 as de,a8 as S,a as V,b as o,p as P,q as j,k as l,g as f,a9 as ie,w as a,C as _e,e as b,d as pe,f as ve,$ as me,U as fe,V as ce,a0 as ge,aa as ye,ab as be,Q as ke,ac as Oe,j as xe,B as Ce,E as we,t as m,W as H,ad as Me,ae as ze,m as Se,s as Ve,af as Pe,ag as he,ah as Te,K as k}from"./index-BK7oz1s9.js";var Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};function $(u){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(_){return Object.getOwnPropertyDescriptor(s,_).enumerable}))),r.forEach(function(_){De(u,_,s[_])})}return u}function De(u,n,s){return n in u?Object.defineProperty(u,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[n]=s,u}var h=function(n,s){var r=$({},n,s.attrs);return t(I,$({},r,{icon:Be}),null)};h.displayName="FileAddOutlined";h.inheritAttrs=!1;var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function F(u){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(_){return Object.getOwnPropertyDescriptor(s,_).enumerable}))),r.forEach(function(_){Re(u,_,s[_])})}return u}function Re(u,n,s){return n in u?Object.defineProperty(u,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[n]=s,u}var T=function(n,s){var r=F({},n,s.attrs);return t(I,F({},r,{icon:Ye}),null)};T.displayName="SaveOutlined";T.inheritAttrs=!1;const je={class:"data-report"},He={class:"page-header"},$e={class:"report-preview"},Fe={class:"report-header"},Ie={class:"report-meta"},Ee={class:"report-content"},Ae={class:"report-section"},Ne={class:"summary-metric"},Ue={class:"metric-value"},Le={class:"metric-label"},qe={class:"report-section"},Qe={class:"report-section"},We={__name:"Report",setup(u){const n=i("monthly"),s=i("comprehensive"),r=i([]),_=i(["pdf"]),B=i("download"),w=i(!1),O=i(!1);i("");const E=de(()=>S().format("YYYY-MM-DD HH:mm:ss")),A=i(null),N=i(null),U=i([{key:"orders",label:"总订单数",value:"2,456",change:"+12.5%",trend:"up"},{key:"revenue",label:"总收入",value:"¥485万",change:"+8.3%",trend:"up"},{key:"vehicles",label:"活跃车辆",value:"156辆",change:"+5.2%",trend:"up"},{key:"efficiency",label:"运输效率",value:"92.5%",change:"+2.1%",trend:"up"}]),L=[{title:"日期",dataIndex:"date",key:"date"},{title:"订单数",dataIndex:"orders",key:"orders"},{title:"收入",dataIndex:"amount",key:"amount"},{title:"车辆数",dataIndex:"vehicles",key:"vehicles"},{title:"状态",dataIndex:"status",key:"status"}],q=i([{date:"2024-06-01",orders:89,amount:156e3,vehicles:45,status:"正常"},{date:"2024-06-02",orders:92,amount:168e3,vehicles:48,status:"正常"},{date:"2024-06-03",orders:78,amount:142e3,vehicles:42,status:"偏低"},{date:"2024-06-04",orders:105,amount:189e3,vehicles:52,status:"优秀"},{date:"2024-06-05",orders:98,amount:175e3,vehicles:49,status:"正常"}]);i([{id:1,title:"订单增长趋势",content:"本月订单量较上月增长12.5%，主要得益于新客户的开拓和老客户订单量的增加。建议继续加强市场推广力度。"},{id:2,title:"运营效率提升",content:"车辆利用率达到78%，较上月提升5.2%。通过优化调度算法和路线规划，运输效率得到显著提升。"},{id:3,title:"成本控制效果",content:"单位运输成本较上月下降3.8%，主要通过燃油管理和维修成本控制实现。建议继续推进成本优化措施。"}]),i([{id:1,name:"2024年6月综合运营报表",type:"月报",createTime:"2024-06-30 18:00",status:"已完成",size:"2.5MB"},{id:2,name:"2024年Q2财务报表",type:"季报",createTime:"2024-06-30 16:30",status:"已完成",size:"3.2MB"},{id:3,name:"2024年6月车辆运营报表",type:"月报",createTime:"2024-06-30 15:45",status:"已完成",size:"1.8MB"},{id:4,name:"2024年6月司机绩效报表",type:"月报",createTime:"2024-06-30 14:20",status:"生成中",size:"-"},{id:5,name:"2024年6月客户分析报表",type:"月报",createTime:"2024-06-30 13:15",status:"已完成",size:"2.1MB"}]);const Q=()=>{const c={daily:"日报",weekly:"周报",monthly:"月报",quarterly:"季报",yearly:"年报",custom:"自定义报表"};return`${{comprehensive:"综合运营报表",financial:"财务报表",vehicle:"车辆运营报表",driver:"司机绩效报表",customer:"客户分析报表",route:"路线分析报表"}[s.value]} - ${c[n.value]}`},W=()=>r.value&&r.value.length===2?`${S(r.value[0]).format("YYYY-MM-DD")} 至 ${S(r.value[1]).format("YYYY-MM-DD")}`:"2024年6月",G=c=>({正常:"blue",优秀:"green",偏低:"orange",异常:"red"})[c]||"default",J=c=>{console.log("报表类型变化:",c)},X=()=>{w.value=!0,k.loading("正在生成报表...",3),setTimeout(()=>{w.value=!1,O.value=!0,k.success("报表生成成功！")},3e3)},Z=()=>{O.value=!0,k.info("正在加载预览...")},K=()=>{k.success("模板保存成功！")},ee=()=>{k.info("进入编辑模式")},te=()=>{k.success("报表已确认生成并保存！"),O.value=!1},ae=()=>{O.value=!1};return(c,e)=>{const p=ce,D=fe,g=me,v=ve,le=ge,x=pe,C=be,ne=ye,M=Oe,se=ke,y=Ce,Y=xe,R=_e,oe=Ve,ue=Se;return b(),V("div",je,[o("div",He,[o("h1",null,[t(f(ie)),e[5]||(e[5]=l(" 数据报表 "))]),e[6]||(e[6]=o("p",null,"生成和管理各类业务报表，支持多种格式导出",-1))]),t(R,{class:"control-panel",title:"报表生成"},{default:a(()=>[t(x,{gutter:[16,16]},{default:a(()=>[t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"报表类型"},{default:a(()=>[t(D,{value:n.value,"onUpdate:value":e[0]||(e[0]=d=>n.value=d),style:{width:"100%"},onChange:J},{default:a(()=>[t(p,{value:"daily"},{default:a(()=>e[7]||(e[7]=[l("日报")])),_:1,__:[7]}),t(p,{value:"weekly"},{default:a(()=>e[8]||(e[8]=[l("周报")])),_:1,__:[8]}),t(p,{value:"monthly"},{default:a(()=>e[9]||(e[9]=[l("月报")])),_:1,__:[9]}),t(p,{value:"quarterly"},{default:a(()=>e[10]||(e[10]=[l("季报")])),_:1,__:[10]}),t(p,{value:"yearly"},{default:a(()=>e[11]||(e[11]=[l("年报")])),_:1,__:[11]}),t(p,{value:"custom"},{default:a(()=>e[12]||(e[12]=[l("自定义")])),_:1,__:[12]})]),_:1},8,["value"])]),_:1})]),_:1}),t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"报表模板"},{default:a(()=>[t(D,{value:s.value,"onUpdate:value":e[1]||(e[1]=d=>s.value=d),style:{width:"100%"}},{default:a(()=>[t(p,{value:"comprehensive"},{default:a(()=>e[13]||(e[13]=[l("综合运营报表")])),_:1,__:[13]}),t(p,{value:"financial"},{default:a(()=>e[14]||(e[14]=[l("财务报表")])),_:1,__:[14]}),t(p,{value:"vehicle"},{default:a(()=>e[15]||(e[15]=[l("车辆运营报表")])),_:1,__:[15]}),t(p,{value:"driver"},{default:a(()=>e[16]||(e[16]=[l("司机绩效报表")])),_:1,__:[16]}),t(p,{value:"customer"},{default:a(()=>e[17]||(e[17]=[l("客户分析报表")])),_:1,__:[17]}),t(p,{value:"route"},{default:a(()=>e[18]||(e[18]=[l("路线分析报表")])),_:1,__:[18]})]),_:1},8,["value"])]),_:1})]),_:1}),t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"时间范围"},{default:a(()=>[t(le,{value:r.value,"onUpdate:value":e[2]||(e[2]=d=>r.value=d),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(x,{gutter:[16,16]},{default:a(()=>[t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"导出格式"},{default:a(()=>[t(ne,{value:_.value,"onUpdate:value":e[3]||(e[3]=d=>_.value=d)},{default:a(()=>[t(C,{value:"pdf"},{default:a(()=>e[19]||(e[19]=[l("PDF")])),_:1,__:[19]}),t(C,{value:"excel"},{default:a(()=>e[20]||(e[20]=[l("Excel")])),_:1,__:[20]}),t(C,{value:"word"},{default:a(()=>e[21]||(e[21]=[l("Word")])),_:1,__:[21]}),t(C,{value:"csv"},{default:a(()=>e[22]||(e[22]=[l("CSV")])),_:1,__:[22]})]),_:1},8,["value"])]),_:1})]),_:1}),t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"发送方式"},{default:a(()=>[t(se,{value:B.value,"onUpdate:value":e[4]||(e[4]=d=>B.value=d)},{default:a(()=>[t(M,{value:"download"},{default:a(()=>e[23]||(e[23]=[l("直接下载")])),_:1,__:[23]}),t(M,{value:"email"},{default:a(()=>e[24]||(e[24]=[l("邮件发送")])),_:1,__:[24]}),t(M,{value:"schedule"},{default:a(()=>e[25]||(e[25]=[l("定时发送")])),_:1,__:[25]})]),_:1},8,["value"])]),_:1})]),_:1}),t(v,{xs:24,sm:12,md:8},{default:a(()=>[t(g,{label:"操作"},{default:a(()=>[t(Y,null,{default:a(()=>[t(y,{type:"primary",onClick:X,loading:w.value},{default:a(()=>[t(f(h)),e[26]||(e[26]=l(" 生成报表 "))]),_:1,__:[26]},8,["loading"]),t(y,{onClick:Z},{default:a(()=>[t(f(we)),e[27]||(e[27]=l(" 预览 "))]),_:1,__:[27]}),t(y,{onClick:K},{default:a(()=>[t(f(T)),e[28]||(e[28]=l(" 保存模板 "))]),_:1,__:[28]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),O.value?(b(),P(R,{key:0,title:"报表预览",class:"preview-card"},{extra:a(()=>[t(Y,null,{default:a(()=>[t(y,{size:"small",onClick:ee},{default:a(()=>[t(f(Pe)),e[29]||(e[29]=l(" 编辑 "))]),_:1,__:[29]}),t(y,{size:"small",type:"primary",onClick:te},{default:a(()=>[t(f(he)),e[30]||(e[30]=l(" 确认生成 "))]),_:1,__:[30]}),t(y,{size:"small",onClick:ae},{default:a(()=>[t(f(Te)),e[31]||(e[31]=l(" 关闭 "))]),_:1,__:[31]})]),_:1})]),default:a(()=>[o("div",$e,[o("div",Fe,[o("h2",null,m(Q()),1),o("div",Ie,[o("span",null,"生成时间："+m(E.value),1),o("span",null,"报表周期："+m(W()),1),e[32]||(e[32]=o("span",null,"数据来源：车辆物流管理系统",-1))])]),o("div",Ee,[o("div",Ae,[e[33]||(e[33]=o("h3",null,"执行摘要",-1)),t(x,{gutter:[16,16]},{default:a(()=>[(b(!0),V(H,null,Me(U.value,d=>(b(),P(v,{xs:24,sm:12,md:6,key:d.key},{default:a(()=>[o("div",Ne,[o("div",Ue,m(d.value),1),o("div",Le,m(d.label),1),o("div",{class:ze(["metric-change",d.trend])},m(d.change),3)])]),_:2},1024))),128))]),_:1})]),o("div",qe,[e[34]||(e[34]=o("h3",null,"详细数据",-1)),t(ue,{columns:L,"data-source":q.value,pagination:{pageSize:10},size:"small",bordered:""},{bodyCell:a(({column:d,record:z})=>[d.key==="status"?(b(),P(oe,{key:0,color:G(z.status)},{default:a(()=>[l(m(z.status),1)]),_:2},1032,["color"])):d.key==="amount"?(b(),V(H,{key:1},[l(" ¥"+m(z.amount.toLocaleString()),1)],64)):j("",!0)]),_:1},8,["data-source"])]),o("div",Qe,[e[35]||(e[35]=o("h3",null,"数据图表",-1)),t(x,{gutter:[16,16]},{default:a(()=>[t(v,{xs:24,lg:12},{default:a(()=>[o("div",{ref_key:"reportChart1",ref:A,class:"report-chart"},null,512)]),_:1}),t(v,{xs:24,lg:12},{default:a(()=>[o("div",{ref_key:"reportChart2",ref:N,class:"report-chart"},null,512)]),_:1})]),_:1})])])])]),_:1})):j("",!0)])}}},Je=re(We,[["__scopeId","data-v-ce9737f6"]]);export{Je as default};
